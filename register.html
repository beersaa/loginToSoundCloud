<!DOCTYPE html>
<html>

<head>
    <title>SoundCloud</title>
    <meta charset="UTF-8" />
    <link rel="shortcut icon" type="image/x-icon" href="slike/logo.svg" />
    <link rel="stylesheet" href="css/register.css" type="text/css" media="all" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/iziToast.min.css">
    <script src="javascript/iziToast.min.js" type="text/javascript"></script>
</head>
<body>
    <div class="main">
        <div class="top">
            <div class="top-picture">
                <img class="top-picture-image" src="slike/headlogo.jpg" alt="SoundCloud">
            </div>
            <div class="top-donate">
                <a class="top-link" href="donate.html">Donate</a>
            </div>
            <div class="top-right">
                <div class="top-login">
                    <a class="top-link" href="index.html">
                        <button class="top-login-button">Login</button>
                    </a>
                </div>
                <div class="top-signup">
                    <a class="top-link" href="register.html">
                        <button class="top-signup-button">Sign up</button>
                    </a>
                </div>
            </div>
        </div>
        <div class="middle">
            <div class="field">
                <div class="field-top">
                    REGISTER
                </div>
                <div class="field-middle">
                    <form id="registrationForm">
                        <div class="field-middle-row1">
                            <div class="field-middle-row1-name">
                                Name:<j>*</j><br>
                                <input class="field-middle-row1-name-input" type="text" maxlength="10" required>
                            </div>
                            <div class="field-middle-row1-lastname">
                                Lastname:<j>*</j><br>
                                <input class="field-middle-row1-lastname-input" type="text" maxlength="17" required>
                            </div>
                        </div>
                        <div class="field-middle-row2">
                            <div class="field-middle-row2-username">
                                Username:<j>*</j><br>
                                <input class="field-middle-row2-username-input" type="text" maxlength="12" required>
                            </div>
                            <div class="field-middle-row2-email">
                                Email:<j>*</j><br>
                                <input class="field-middle-row2-email-input" type="text" required>
                            </div>
                        </div>
                        <div class="field-middle-row3">
                            <div class="field-middle-row3-number">
                                Number:<j>*</j><br>
                                <input class="field-middle-row3-number-input" type="text" required>
                            </div>
                            <div class="field-middle-row3-address">
                                Address:<j>*</j><br>
                                <input class="field-middle-row3-address-input" type="text" maxlength="20" required>
                            </div>
                        </div>
                        <div class="field-middle-row4">
                            <div class="field-middle-row4-password">
                                Password:<j>*</j><br>
                                <input class="field-middle-row4-password-input" type="password"  required>
                            </div>
                            <div class="field-middle-row4-passwordconf">
                                Confirm password:<j>*</j><br>
                                <input class="field-middle-row4-passwordconf-input" type="password" required>
                            </div>
                        </div>
                        <div class="field-middle-licence">
                            <label>
                                <input id='check' type="checkbox" class="field-middle-licence-checkbox" required> By checking this box, you are agreeing to our <a href="files/ToS.pdf" class="field-middle-licence-link" target="_blank">terms of service</a>.
                            </label>
                        </div>
                        <div class="field-middle-buttons">
                            <div class="field-middle-buttons-return">
                                <a href="index.html">
                                    <button class="button-return" type="button" role="button" formnovalidate >RETURN</button>
                                </a>
                            </div>
                            <div class="field-middle-buttons-register">
                                <button id="button-regi" class="button-regi" type="button">REGISTER</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="foot">
            <div class="copyright">
                <a href="https://github.com/beersaa" class="copyright-text" target="_blank">Â©</a> copyright by AB
            </div>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var buttonRegi = document.getElementById('button-regi');

            if (buttonRegi) {
                buttonRegi.addEventListener('click', function () {
                    var form = document.getElementById("registrationForm");
                    var name = form.querySelector('.field-middle-row1-name-input');
                    var lastname = form.querySelector('.field-middle-row1-lastname-input');
                    var username = form.querySelector('.field-middle-row2-username-input');
                    var email = form.querySelector('.field-middle-row2-email-input');
                    var number = form.querySelector('.field-middle-row3-number-input');
                    var address = form.querySelector('.field-middle-row3-address-input');
                    var password = form.querySelector('.field-middle-row4-password-input');
                    var passwordconf = form.querySelector('.field-middle-row4-passwordconf-input');
                    var checkbox = form.querySelector('.field-middle-licence-checkbox');

                    if (
                        !name.value.trim() ||
                        !lastname.value.trim() ||
                        !username.value.trim() ||
                        !email.value.trim() ||
                        !number.value.trim() ||
                        !address.value.trim() ||
                        !password.value.trim() ||
                        !passwordconf.value.trim() ||
                        !checkbox.checked
                    ) {
                        iziToast.error({
                            title: 'Error',
                            message: 'Please fill all the fields',
                        });
                    } else if (!/^[a-zA-Z]+$/.test(name.value) || !/^[a-zA-Z]+$/.test(lastname.value)) {
                        iziToast.error({
                            title: 'Error',
                            message: 'Name and Lastname must contain only letters',
                        });
                    } else if (!/^[a-zA-Z0-9_]+$/.test(username.value)) {
                        iziToast.error({
                            title: 'Error',
                            message: 'Username must contain only letters, numbers, or underscores',
                        });
                    } else if (!/^[a-z0-9._%+\-]+@[a-z0-9.\-]+\.[a-z]{2,}$/.test(email.value)) {
                        iziToast.error({
                            title: 'Error',
                            message: 'Please enter a valid email address',
                        });
                    } else if (!/^[0-9]{9}$/.test(number.value)) {
                        iziToast.error({
                            title: 'Error',
                            message: 'Please enter a valid 9-digit number',
                        });
                    } else if (password.value !== passwordconf.value) {
                        iziToast.error({
                            title: 'Error',
                            message: 'Password and Confirm Password must match',
                        });
                    } else {
                        iziToast.success({
                            title: 'OK',
                            message: 'Successfully registered!',
                            color: '#ff7700',
                            titleColor: '#000000',
                        });
                        form.reset();
                    }
                });
            }
        });
    </script>
</body>
</html>
