<!DOCTYPE html>
<html>

<head>
    <title>SoundCloud</title>
    <meta charset="UTF-8" />
    <link rel="shortcut icon" type="image/x-icon" href="slike/logo.svg" />
    <link rel="stylesheet" href="css/register.css" type="text/css" media="all" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/iziToast.min.css">
    <script src="javascript/iziToast.min.js" type="text/javascript"></script>
    <link rel="stylesheet" href="css/sweetalert2.min.css">
    
</head>
<body>
    <div class="main">
        <div class="top">
            <div class="top-picture">
                <img class="top-picture-image" src="slike/headlogo.jpg" alt="SoundCloud">
            </div>
            <div class="top-donate">
                <a class="top-link" href="donate.html">Donate</a>
            </div>
            <div class="top-right">
                <div class="top-login">
                    <a class="top-link" href="index.html">
                        <button class="top-login-button">Login</button>
                    </a>
                </div>
                <div class="top-signup">
                    <a class="top-link" href="register.html">
                        <button class="top-signup-button">Sign up</button>
                    </a>
                </div>
            </div>
        </div>
        <div class="middle">
            <div class="field">
                <div class="field-top">
                    REGISTER
                </div>
                <div class="field-middle">
                    <form id="registrationForm">
                        <div class="field-middle-row1">
                            <div class="field-middle-row1-name">
                                Name:<j>*</j><br>
                                <input class="field-middle-row1-name-input" type="text" maxlength="10" required>
                            </div>
                            <div class="field-middle-row1-lastname">
                                Lastname:<j>*</j><br>
                                <input class="field-middle-row1-lastname-input" type="text" maxlength="17" required>
                            </div>
                        </div>
                        <div class="field-middle-row2">
                            <div class="field-middle-row2-username">
                                Username:<j>*</j><br>
                                <input class="field-middle-row2-username-input" type="text" maxlength="12" required>
                            </div>
                            <div class="field-middle-row2-email">
                                Email:<j>*</j><br>
                                <input class="field-middle-row2-email-input" type="text" required>
                            </div>
                        </div>
                        <div class="field-middle-row3">
                            <div class="field-middle-row3-number">
                                Number:<j>*</j><br>
                                <input class="field-middle-row3-number-input" type="text" required maxlength="9">
                            </div>
                            <div class="field-middle-row3-address">
                                Address:<j>*</j><br>
                                <input class="field-middle-row3-address-input" type="text" maxlength="20" required>
                            </div>
                        </div>
                        <div class="field-middle-row4">
                            <div class="field-middle-row4-password">
                                Password:<j>*</j><br>
                                <input class="field-middle-row4-password-input" type="password" maxlength="20" required>
                            </div>
                            <div class="field-middle-row4-passwordconf">
                                Confirm password:<j>*</j><br>
                                <input class="field-middle-row4-passwordconf-input" type="password" maxlength="20" required>
                            </div>
                        </div>
                        <div class="field-middle-licence">
                            <label>
                                <input id='check' type="checkbox" class="field-middle-licence-checkbox" required> By checking this box, you are agreeing to our <a href="files/ToS.pdf" class="field-middle-licence-link" target="_blank">terms of service</a>.
                            </label>
                        </div>
                        <div class="field-middle-buttons">
                            <div class="field-middle-buttons-return">
                                <a href="index.html">
                                    <button class="button-return" type="button" role="button">RETURN</button>
                                </a>
                            </div>
                            <div class="field-middle-buttons-register">
                                <button id="button-regi" class="button-regi" type="button">REGISTER</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="foot">
            <div class="copyright">
                <a class="copyright-text" target="_blank">©</a> copyright by AB
            </div>
        </div>
    </div>
    <script src="javascript/sweetalert2.min.js" type="text/javascript"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var copyRight = document.querySelector('.copyright-text');

            if (copyRight) {
                copyRight.addEventListener('click', function (event) {
                    Swal.fire({
                        title: "Made by AB",
                        text: "https://github.com/beersaa",
                        icon: "info",
                        iconColor:"#ff7700",
                        confirmButtonColor:"#ff7700",
                        backdrop: `
                        rgba(0,0,123,0.4)
                        url("/slike/secret.gif")
                        left top
                        no-repeat
                        `
                    });
                });
            }
            var returnBack = document.querySelector('.button-return');
            if (returnBack) {
                returnBack.addEventListener('click', function (event) {
                    event.preventDefault();

                    document.body.style.backgroundColor = 'black';

                    document.body.style.transition = 'opacity 0.5s ease-in-out';
                    document.body.style.opacity = 0;

                    setTimeout(function () {
                        window.location.href = 'index.html';
                    }, 1000);
                });
            }
            document.body.style.backgroundColor = 'black';
            document.body.style.transition = 'opacity 1s ease-in-out';
            document.body.style.opacity = 1;

            var topLogin = document.querySelector('.top-login');

            if (topLogin) {
                topLogin.addEventListener('click', function (event) {
                    event.preventDefault();

                    document.body.style.backgroundColor = 'black';

                    document.body.style.transition = 'opacity 0.5s ease-in-out';
                    document.body.style.opacity = 0;

                    setTimeout(function () {
                        window.location.href = 'index.html';
                    }, 1000);
                });
            }
            var topSignup = document.querySelector('.top-signup');

            if (topSignup) {
                topSignup.addEventListener('click', function (event) {
                    event.preventDefault();

                    document.body.style.backgroundColor = 'black';

                    document.body.style.transition = 'opacity 0.5s ease-in-out';
                    document.body.style.opacity = 0;

                    setTimeout(function () {
                        window.location.href = 'register.html';
                    }, 1000);
                });
            }
            var topDonate = document.querySelector('.top-donate');

            if (topDonate) {
                topDonate.addEventListener('click', function (event) {
                    event.preventDefault();

                    document.body.style.backgroundColor = 'black';

                    document.body.style.transition = 'opacity 0.5s ease-in-out';
                    document.body.style.opacity = 0;

                    setTimeout(function () {
                        window.location.href = 'donate.html';
                    }, 1000);
                });
            }
            var buttonRegi = document.querySelector('.button-regi');
            if (buttonRegi) {
                buttonRegi.addEventListener('click', function () {
                    var form = document.getElementById("registrationForm");
                    var name = form.querySelector('.field-middle-row1-name-input');
                    var lastname = form.querySelector('.field-middle-row1-lastname-input');
                    var username = form.querySelector('.field-middle-row2-username-input');
                    var email = form.querySelector('.field-middle-row2-email-input');
                    var number = form.querySelector('.field-middle-row3-number-input');
                    var address = form.querySelector('.field-middle-row3-address-input');
                    var password = form.querySelector('.field-middle-row4-password-input');
                    var passwordconf = form.querySelector('.field-middle-row4-passwordconf-input');
                    var checkbox = form.querySelector('.field-middle-licence-checkbox');

                    if (
                        !name.value.trim() ||
                        !lastname.value.trim() ||
                        !username.value.trim() ||
                        !email.value.trim() ||
                        !number.value.trim() ||
                        !address.value.trim() ||
                        !password.value.trim() ||
                        !passwordconf.value.trim() ||
                        !checkbox.checked
                    ) {
                        iziToast.error({
                            title: 'Error',
                            message: 'Please fill all the fields',
                        });
                    } else if (!/^[a-zA-ZžŽšŠćĆčČđĐ]+( [a-zA-ZžŽšŠćĆčČđĐ]+)*$/.test(name.value) || !/^[a-zA-ZžŽšŠćĆčČđĐ]+( [a-zA-ZžŽšŠćĆčČđĐ]+)*$/.test(lastname.value)) {
                        iziToast.error({
                            title: 'Error',
                            message: 'Name and Lastname must contain only letters',
                        });
                    } else if (!/^[a-zA-Z0-9_]+$/.test(username.value)) {
                        iziToast.error({
                            title: 'Error',
                            message: 'Username must contain only letters, numbers, or underscores',
                        });
                    } else if (!/^[a-zA-ZžŽšŠćĆčČđĐ 0-9]+$/.test(address.value)) {
                        iziToast.error({
                            title: 'Error',
                            message: 'Please enter a valid address',
                        });
                    } else if (!/^[a-z0-9._%+\-]+@[a-z0-9.\-]+\.[a-z]{2,}$/.test(email.value)) {
                        iziToast.error({
                            title: 'Error',
                            message: 'Please enter a valid email address',
                        });
                    } else if (!/^[0-9]{9}$/.test(number.value)) {
                        iziToast.error({
                            title: 'Error',
                            message: 'Please enter a valid 9-digit number',
                        });
                    } else if (password.value !== passwordconf.value) {
                        iziToast.error({
                            title: 'Error',
                            message: 'Password and Confirm Password must match',
                        });
                    } else {
                        iziToast.success({
                            title: 'OK',
                            message: 'Successfully registered!',
                            color: '#ff7700',
                            titleColor: '#000000',
                        });
                        var radioButtons = form.querySelectorAll('input[type="radio"]');
                        for (var i = 0; i < radioButtons.length; i++) {
                            radioButtons[i].checked = false;
                        }
                        form.reset();
                    }
                }
            )}
        });
    </script>
</body>
</html>
